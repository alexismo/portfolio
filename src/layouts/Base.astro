---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

import "../styles/reset-2.css";
import "../styles/main.css";
import "../styles/devices.css";

export interface Props {
  title?: string;
  metaD?: string;
}
const {
  title = "Alexis Morin - Portfolio",
  metaD = "Portfolio website for Alexis Morin: digital product designer, design engineer, design systems and accessibility specialist.",
} = Astro.props as Props;
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#444449" />
    <meta name="description" content={metaD} />
    <title>{title}</title>
    <link rel="shortcut icon" href="/images/almo-favicon.ico" />

    {/* Per-page head slot (e.g., page-specific CSS) */}
    <slot name="head" />

    {/* Google Analytics (only in production) */}
    {
      import.meta.env.PROD && (
        <>
          <script
            async
            src="https://www.googletagmanager.com/gtag/js?id=G-338P9KBK61"
          />
          <script>
            {`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);} 
            gtag('js', new Date());
            gtag('config', 'G-338P9KBK61');
          `}
          </script>
        </>
      )
    }
  </head>
  <body>
    <Header />
    <slot />
    <Footer />

    {/* Shared lightbox dialog so js/main.js can bind once globally */}
    <dialog id="lightbox" closedby="any"></dialog>

    {/* Shared scripts from public/ */}
    <script src="/js/main.js" defer></script>
  </body>
</html>
