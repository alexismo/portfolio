---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

export interface Props {
  title?: string;
}
const { title = "Alexis Morin - Portfolio" } = Astro.props as Props;
---
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="theme-color" content="#444449" />
    <link rel="shortcut icon" href="/images/almo-favicon.ico" />

    {/* Global CSS from public/ */}
    <link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/devices.css" />

    {/* Per-page head slot (e.g., page-specific CSS) */}
    <slot name="head" />

    {/* Google Analytics (only in production) */}
    {import.meta.env.PROD && (
      <>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-338P9KBK61"></script>
        <script>
          {`
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);} 
            gtag('js', new Date());
            gtag('config', 'G-338P9KBK61');
          `}
        </script>
      </>
    )}
  </head>
  <body>
    <Header />
    <slot />
    <Footer />

    {/* Shared lightbox dialog so js/main.js can bind once globally */}
    <dialog id="lightbox"></dialog>

    {/* Shared scripts from public/ */}
    <script src="/js/main.js" defer></script>
  </body>
</html>

